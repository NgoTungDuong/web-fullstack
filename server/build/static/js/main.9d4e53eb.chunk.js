(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{42:function(e,t,a){e.exports=a(74)},47:function(e,t,a){},49:function(e,t,a){},51:function(e,t,a){},74:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(22),s=a.n(o),i=(a(47),a(48),a(11)),l=a(12),c=a(14),g=a(13),m=a(15),p=(a(49),a(26)),u=a(19),h=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(g.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("nav",{className:"mt-5","aria-label":"Page navigation example"},r.a.createElement("ul",{className:"pagination justify-content-center"},r.a.createElement("li",{className:"page-item"},r.a.createElement("a",{className:"page-link","aria-label":"Previous"},r.a.createElement("span",{"aria-hidden":"true"},"\xab"))),this.props.myArray.map((function(t){return r.a.createElement("li",{key:t,className:e.props.pageNumber===t+1?"page-item active":"page-item"},r.a.createElement("a",{className:"page-link",onClick:e.props.handlePaginationClick},t+1))})),r.a.createElement("li",{className:"page-item"},r.a.createElement("a",{className:"page-link","aria-label":"Next"},r.a.createElement("span",{"aria-hidden":"true"},"\xbb"))))))}}]),t}(n.Component),d=a(17),f=a.n(d),b=a(20),E=a(37),w=a(76),v=a(77),y=a(78),N=a(79),S=a(80),I=a(83),C=a(81),O=a(82),j=(a(51),function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(r)))).handleKeyPress=function(e){var t=a.props.login.submitForm;13===e.charCode&&t()},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(w.a,{color:"light",className:"header-container"},r.a.createElement(v.a,{className:"ml-2"},r.a.createElement(y.a,{className:"search",type:"text",name:"search-title",placeholder:"Enter your search"}),r.a.createElement(N.a,{outline:!0,color:"success",className:"mr-2 ml-2"},"Search"),0!==localStorage.length?r.a.createElement("a",{className:"btn btn-outline-info",href:"/create-post"},"+ New Post"):r.a.createElement("a",{className:"btn btn-outline-info",href:"/"},"+ New Post")),0!==localStorage.length?r.a.createElement(S.a,{href:"/homescreen"},"Techkids Hotgirl"):r.a.createElement(S.a,{href:"/"},"Techkids Hotgirl"),this.props.authUser.userId?r.a.createElement("div",null,r.a.createElement("strong",null,"Welcome"),", ",r.a.createElement("p",{style:{color:"blue",display:"inline"}},this.props.authUser.firstName," ",this.props.authUser.lastName),r.a.createElement(N.a,{style:{marginLeft:"20px"},color:"danger",onClick:this.props.logOut},"Log Out")):r.a.createElement("div",null,r.a.createElement(N.a,{style:{marginRight:"10px"},color:"primary",onClick:this.props.login.toggleLogin},"Login"),r.a.createElement(N.a,{color:"danger",onClick:this.props.login.toggleRegister},"Register")),r.a.createElement(I.a,{className:"login-modal",isOpen:this.props.loginModalVisible,toggle:this.props.login.toggleLogin},r.a.createElement(C.a,null,r.a.createElement(O.a,{onKeyPress:this.handleKeyPress},r.a.createElement("h2",{style:{marginBottom:"20px",color:"green",textAlign:"center"}},"LOGIN WITH US"),r.a.createElement(y.a,{type:"text",placeholder:"Username",value:this.props.login.username,onChange:function(t){return e.props.login.loginInfoChange({username:t.target.value})}}),r.a.createElement(y.a,{style:{marginBottom:"20px",marginTop:"15px"},type:"password",placeholder:"Password",value:this.props.login.password,onChange:function(t){return e.props.login.loginInfoChange({password:t.target.value})}}),r.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},r.a.createElement(N.a,{color:"warning",style:{marginRight:"20px"},onClick:this.props.login.submitForm},"LOGIN"),r.a.createElement(N.a,{color:"primary",onClick:this.props.login.loginWithFacebook},"Continue with FaceBook"))))),r.a.createElement(I.a,{isOpen:this.props.registerModalVisible,toggle:this.props.login.toggleRegister},r.a.createElement(C.a,null,r.a.createElement(O.a,null,r.a.createElement("h2",{style:{marginBottom:"20px",color:"green",textAlign:"center"}},"REGISTER FOR ENJOY"),r.a.createElement(y.a,{type:"text",placeholder:"Enter Username",value:this.props.login.registerUsername,onChange:function(t){return e.props.login.registerInfoChange({username:t.target.value})}}),r.a.createElement(y.a,{style:{marginTop:"10px",marginBottom:"10px"},type:"text",placeholder:"Enter Password",value:this.props.login.registerPassword,onChange:function(t){return e.props.login.registerInfoChange({password:t.target.value})}}),r.a.createElement(y.a,{type:"text",placeholder:"Confirm Password",value:this.props.login.registerConfirmPassword,onChange:function(t){return e.props.login.registerInfoChange({confirmPassword:t.target.value})}}),r.a.createElement(y.a,{style:{marginTop:"10px",marginBottom:"10px"},type:"text",placeholder:"Enter Your Firstname",value:this.props.login.firstName,onChange:function(t){return e.props.login.registerInfoChange({firstName:t.target.value})}}),r.a.createElement(y.a,{type:"text",placeholder:"Enter Your LastName",value:this.props.login.lastName,onChange:function(t){return e.props.login.registerInfoChange({lastName:t.target.value})}}),r.a.createElement("div",{style:{display:"flex",justifyContent:"space-around"}},r.a.createElement(N.a,{style:{marginTop:"20px"},color:"danger",onClick:this.props.login.register},"REGISTER"))))))}}]),t}(n.Component)),x=a(21),k=a.n(x);function P(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function T(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?P(a,!0).forEach((function(t){Object(E.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):P(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var U=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(r)))).state={loginModalVisible:!1,registerModalVisible:!1,loginInfo:{username:"",password:""},registerInfo:{username:"",password:"",confirmPassword:"",firstName:"",lastName:""},authUser:{}},a.toggleLogin=function(){a.setState({loginModalVisible:!a.state.loginModalVisible})},a.toggleRegister=function(){a.setState({registerModalVisible:!a.state.registerModalVisible})},a.loginInfoChange=function(e){a.setState({loginInfo:T({},a.state.loginInfo,{},e)})},a.registerInfoChange=function(e){a.setState({registerInfo:T({},a.state.registerInfo,{},e)})},a.registerSubmit=Object(b.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(a.state.registerInfo),a.state.registerInfo.password===a.state.registerInfo.confirmPassword){e.next=5;break}window.alert("Password does not match"),e.next=16;break;case 5:return e.prev=5,e.next=8,fetch("http://localhost:3001/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a.state.registerInfo)}).then((function(e){return e.json()}));case 8:(t=e.sent).success?(window.alert(t.message),a.toggleRegister()):window.alert(t.message),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(5),console.log(e.t0),window.alert(e.t0);case 16:case"end":return e.stop()}}),e,null,[[5,12]])}))),a.loginSubmit=Object(b.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.state.loginInfo.username&&a.state.loginInfo.password){e.next=4;break}window.alert("Please input username and password"),e.next=16;break;case 4:return e.prev=4,e.next=7,fetch("http://localhost:3001/api/auth/login",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(a.state.loginInfo)}).then((function(e){return e.json()}));case 7:t=e.sent,console.log(t),t.success?(console.log(t),window.alert(t.message),window.localStorage.setItem("userId",t.id),window.localStorage.setItem("username",t.username),window.localStorage.setItem("firstName",t.firstName),window.localStorage.setItem("lastName",t.lastName),window.location.href="/homescreen",a.toggleLogin(),a.setState({authUser:{userId:t.id,firstName:t.firstName,lastName:t.lastName}}),a.setState({loginInfo:{username:"",password:""}})):(window.alert(t.message),a.setState({loginInfo:T({},a.state.loginInfo,{password:""})})),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(4),console.log(e.t0),window.alert(e.t0);case 16:case"end":return e.stop()}}),e,null,[[4,12]])}))),a.loginWithFacebook=Object(b.a)(f.a.mark((function e(){var t,n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=new k.a.auth.FacebookAuthProvider,k.a.app.length||k.a.initializeApp({}),e.next=5,k.a.auth().signInWithPopup(t);case 5:return n=e.sent,e.next=8,n.user.getIdToken();case 8:r=e.sent,console.log(n),console.log(r),window.alert("Dang nhap thanh cong"),window.localStorage.setItem("userId",n.additionalUserInfo.profile.id),window.localStorage.setItem("username",n.additionalUserInfo.profile.name),window.localStorage.setItem("firstName",n.additionalUserInfo.profile.first_name),window.localStorage.setItem("lastName",n.additionalUserInfo.profile.last_name),a.toggleLogin(),a.setState({authUser:{userId:n.additionalUserInfo.profile.id,firstName:n.additionalUserInfo.profile.first_name,lastName:n.additionalUserInfo.profile.last_name}}),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(0),console.log(e.t0);case 23:case"end":return e.stop()}}),e,null,[[0,20]])}))),a.logOut=Object(b.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return window.localStorage.clear(),window.location.href="/",a.setState({authUser:{}}),e.next=5,fetch("http://localhost:3001/api/auth/logout",{credentials:"include",method:"GET"}).then((function(e){return e.json()}));case 5:t=e.sent,console.log(t);case 7:case"end":return e.stop()}}),e)}))),a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){localStorage.getItem("userId"),k.a.app.length||k.a.initializeApp({apiKey:"AIzaSyBCGCCl1KHrGpMZjdRQfoeMiQ3VEfStnjc",authDomain:"techkids-hotgirl-2ab39.firebaseapp.com",databaseURL:"https://techkids-hotgirl-2ab39.firebaseio.com",projectId:"techkids-hotgirl-2ab39",storageBucket:"techkids-hotgirl-2ab39.appspot.com",messagingSenderId:"784084319356"});var e=localStorage.getItem("userId"),t=localStorage.getItem("firstName"),a=localStorage.getItem("lastName");this.setState({authUser:{userId:e,firstName:t,lastName:a}})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(j,{loginModalVisible:this.state.loginModalVisible,registerModalVisible:this.state.registerModalVisible,login:{username:this.state.loginInfo.username,password:this.state.loginInfo.password,registerUsername:this.state.registerInfo.username,registerPassword:this.state.registerInfo.password,registerConfirmPassword:this.state.registerInfo.confirmPassword,firstName:this.state.registerInfo.firstName,lastName:this.state.registerInfo.lastName,toggleLogin:this.toggleLogin,submitForm:this.loginSubmit,register:this.registerSubmit,registerInfoChange:this.registerInfoChange,loginInfoChange:this.loginInfoChange,loginWithFacebook:this.loginWithFacebook,toggleRegister:this.toggleRegister},authUser:this.state.authUser,logOut:this.logOut}))}}]),t}(n.Component),M=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(r)))).state={pageNumber:1,pageSize:4,data:[],total:0},a.handlePaginationClick=function(e){a.setState({pageNumber:Number(e.target.innerText)}),fetch("http://localhost:3001/api/posts?pageNumber=".concat(e.target.innerText,"&pageSize=").concat(a.state.pageSize),{method:"GET",headers:{"Content-Type":"application"},credentials:"include"}).then((function(e){return e.json()})).then((function(e){console.log(e),a.setState({data:e.data,total:e.total}),localStorage.setItem("pageNumber",a.state.pageNumber),localStorage.setItem("pageSize",a.state.pageSize)})).catch((function(e){return console.log(e)}))},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;localStorage.getItem("userId"),localStorage.getItem("username"),this.setState({pageNumber:localStorage.pageNumber}),localStorage.pageNumber?fetch("http://localhost:3001/api/posts?pageNumber=".concat(localStorage.pageNumber,"&pageSize=").concat(localStorage.pageSize),{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"}).then((function(e){return e.json()})).then((function(t){console.log(t),e.setState({data:t.data,total:t.total})})).catch((function(e){return console.log(e)})):fetch("http://localhost:3001/api/posts?pageNumber=".concat(this.state.pageNumber,"&pageSize=").concat(this.state.pageSize),{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"}).then((function(e){return e.json()})).then((function(t){e.setState({data:t.data,total:t.total})}))}},{key:"render",value:function(){for(var e=[],t=0;t<Math.ceil(this.state.total/this.state.pageSize);t++)e.push(t);return 0!==localStorage.length?r.a.createElement("div",null,r.a.createElement(U,null),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},this.state.data.map((function(e){return r.a.createElement("div",{className:"col-3 mt-5 mb-5",key:e._id},r.a.createElement(p.b,{to:"/images/".concat(e._id)},r.a.createElement("img",{className:"img-fluid",src:e.imageUrl,alt:e.title})),r.a.createElement("div",{style:{textAlign:"center",backgroundColor:"#f5f5f5"}},r.a.createElement("h4",null,e.title),r.a.createElement("p",null,e.content)))}))),r.a.createElement(h,{myArray:e,pageNumber:Number(this.state.pageNumber),handlePaginationClick:this.handlePaginationClick}))):window.location.href="/"}}]),t}(n.Component),A=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(r)))).state={imageFile:void 0,imageSrc:"",title:"",content:"",description:"",errorMassage:""},a.handleImageChange=function(e){var t=e.target.files[0];if(t){var n=new FileReader;n.readAsDataURL(t),n.onloadend=function(e){a.setState({imageFile:t,imageSrc:e.currentTarget.result})}}},a.handleTitleChange=function(e){a.setState({title:e.target.value})},a.handleContentChange=function(e){a.setState({content:e.target.value})},a.handleDescriptionChange=function(e){a.setState({description:e.target.value})},a.handleFormSubmit=function(){var e=Object(b.a)(f.a.mark((function e(t){var n,r,o;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a.state.imageFile&&a.state.title&&a.state.content&&a.state.description){e.next=5;break}a.setState({errorMassage:"Please input full infomation !!!"}),e.next=15;break;case 5:return(n=new FormData).append("image",a.state.imageFile),e.next=9,fetch("http://localhost:3001/uploads/image",{method:"POST",credentials:"include",headers:{Accept:"application/json"},body:n}).then((function(e){return e.json()})).then((function(e){return console.log(e)})).catch((function(e){a.setState({errorMassage:e.massage})}));case 9:return r=e.sent,console.log(r),e.next=13,fetch("http://localhost:3001/api/posts",{method:"POST",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({title:a.state.title,content:a.state.content,description:a.state.description,imageUrl:a.state.imageSrc})}).then((function(e){return e.json()})).then((function(e){return console.log(e)})).catch((function(e){a.setState({errorMassage:e.massage})}));case 13:o=e.sent,console.log(o);case 15:window.alert("Create post success"),window.location.href="/create-post";case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){localStorage.getItem("userId"),localStorage.getItem("username")}},{key:"render",value:function(){return 0!==localStorage.length?r.a.createElement("div",null,r.a.createElement(U,null),r.a.createElement("h1",{className:"mt-5",style:{textAlign:"center"}},r.a.createElement("span",{className:"badge badge-success"},"CREATE NEW POST")),r.a.createElement("div",{className:"row mt-2"},r.a.createElement("div",{className:"col-2"}),r.a.createElement("div",{className:"col-8"},r.a.createElement("form",{onSubmit:this.handleFormSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{style:{position:"relative",top:"30px",textAlign:"center"}},"Select Image ..."),r.a.createElement("input",{id:"file",type:"file",accept:"image/*",className:"form-control",style:{color:"transparent",margin:"0 auto",textIndent:"-999em",zIndex:10,height:"50px"},onChange:this.handleImageChange}),this.state.imageSrc?r.a.createElement("div",{style:{textAlign:"center",marginTop:"5px"}},r.a.createElement("img",{style:{height:"300px",width:"auto"},src:this.state.imageSrc,alt:"preview"})):null),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{className:"form-control",type:"text",placeholder:"Enter Title ...",value:this.state.title,onChange:this.handleTitleChange}),r.a.createElement("textarea",{className:"form-control mt-2 mb-2",id:"exampleFormControlTextarea1",rows:"4",placeholder:"Please enter content ...",value:this.state.content,onChange:this.handleContentChange}),r.a.createElement("input",{className:"form-control",type:"text",placeholder:"Enter Description ...",value:this.state.description,onChange:this.handleDescriptionChange})),this.state.errorMassage?r.a.createElement("div",{className:"alert alert-danger",role:"alert"},this.state.errorMassage):null,r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"submit",value:"Create Post",className:"btn btn-primary"})))),r.a.createElement("div",{className:"col-2"}))):window.location.href="/"}}]),t}(n.Component),F=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(r)))).state={image:[]},a.handleBack=function(){window.history.back()},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0,fetch("http://localhost:3001/api/posts/".concat(this.props.match.params.imageId),{method:"GET"}).then((function(e){return e.json()})).then((function(t){console.log(t),e.setState({image:t})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(U,null),r.a.createElement("div",{className:"container mt-3"},r.a.createElement("div",{className:"row"},r.a.createElement("div",null,r.a.createElement("button",{className:"btn btn-primary",onClick:this.handleBack},"BACK")),r.a.createElement("div",{style:{textAlign:"center"},className:"col-8 mr-auto ml-auto"},r.a.createElement("img",{className:"img-fluid",src:this.state.image.imageUrl,alt:this.state.image.title}),r.a.createElement("div",null,r.a.createElement("h4",null,this.state.image.title),r.a.createElement("p",null,this.state.image.content))))))}}]),t}(n.Component),R=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(g.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"APP"},r.a.createElement(p.a,null,r.a.createElement(u.a,{exact:!0,path:"/",component:U}),r.a.createElement(u.a,{path:"/homescreen",component:M}),r.a.createElement(u.a,{path:"/images/:imageId",component:F}),r.a.createElement(u.a,{path:"/create-post",component:A})))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(R,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[42,1,2]]]);
//# sourceMappingURL=main.9d4e53eb.chunk.js.map